#!/bin/bash

### Author: Pedro Serrano, jj10 Net LLC, Bayamon, PR
### Created: June 27, 2023
### Updated: Sept 8, 2023

### USAGE:	inifilename [$0]
###		Pass the parent script name to this script

############## MODIFY AT YOUR OWN RISK #####################

### Seconds between Connection Checks
declare -g uSleep=60

### Seconds between Alerts
declare -g uSleepAfterAlert=3600

declare -g uPingCount=1
declare -g uPingWait=10
declare -g uPingSize=1
declare -g uWgetTries=1
declare -g uWgetTimeout=10
declare -g uSleepAfterOK=20
declare -g uMaxReps=2


############## DO NOT MODIFY SETTINGS BELOW ##################

### Connectivity Status
declare -g uConnStat=up

### Prefix of script being executed
declare -g uCmd=`basename ${1:0:-5}`

### Check if the daemon is already running using pidof
declare -g procs=`pidof $(basename $0)`

declare -g pidfile="${dir}/${uCmd}.pid"

## Output of this script will be redirected to this file
declare -g uOut="${dir}/${uCmd}.output"

# Get the number of steps
declare -g steps_file="${dir}/${uCmd}.steps"
